<div class="container mt-4">
  <h2 class="mb-3">Institution Form</h2>

  <form #institutionForm="ngForm" (ngSubmit)="submitInstitution(institutionForm)" class="row g-3">
    <div class="col-md-4">
      <input type="text" class="form-control" name="name" placeholder="Institution Name"
        [(ngModel)]="institutionFormData.name" required />
    </div>

    <div class="col-md-4">
      <input type="text" class="form-control" name="location" placeholder="Location"
        [(ngModel)]="institutionFormData.location" required />
    </div>

    <div class="col-md-4">
      <input type="file" class="form-control" (change)="onLogoSelected($event)" #logoInput />
      <img *ngIf="selectedLogoBase64" [src]="selectedLogoBase64" width="50" height="50" class="mt-2 rounded"
        alt="Preview" />
    </div>

    <div class="col-12">
      <button type="submit" class="btn btn-primary" [disabled]="!institutionForm.form.valid">
        {{ selectedInstitution ? 'Update Institution' : 'Add Institution' }}
      </button>
    </div>
  </form>

  <hr class="my-4" />

  <h3>Institution List</h3>
  <table class="table table-bordered table-striped mt-3">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Location</th>
        <th>Logo</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let institution of institutions">
        <td>{{ institution.id }}</td>
        <td>{{ institution.name }}</td>
        <td>{{ institution.location }}</td>
        <td><img [src]="institution.image" width="40" /></td>
        <td>
          <button class="btn btn-sm btn-warning me-1" (click)="editInstitution(institution)">Edit</button>
          <button class="btn btn-sm btn-danger" (click)="removeInstitution(institution.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>